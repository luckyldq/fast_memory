
# fast_memory
>   游戏声明：这是一款只能在chrome下运行的网页小游戏，未做过任何浏览器的测验和兼容；为了您的生命安全，请确保使用谷歌打开；

>   游戏简介：这是一款训练记忆力的益智小游戏（定位，哈哈），9张牌随机分布，玩家有一段记忆时间（我是最强大脑小迷妹，可惜被毁了，T_T），然后找到指定牌的位置。答对得分，答错扣分；

>	游戏规则：游戏中起始有9张纸牌（可以扩展为16张图，来增加游戏难度），初始时按顺序排列在页面中，每张牌中分别对应的是0-9个不重复的数字（可扩展为重复的数字，增加游戏的难度）；玩家的起始分数是2分，开始游戏，洗牌：随机打乱顺序，反面排列在页面中，然后将所有牌以正面显示，显示时间showTime = 1s（玩家答对是次数越多，会缩短showTime，来增加游戏的难度），玩家记忆每张牌对应的位置，然后牌以反面显示；抽牌：随机生成一个数字放入比对牌中（因为我这里是数字识别，所以我直接随机生成了数字，这种做法不严谨，应该从9张牌中随机的抽取），将比对牌以正面显示；玩家摸牌：玩家根据记忆从9张牌中找到相同牌的位置（可以给玩家设置摸牌的时间，超过时间为摸牌，则判为失败）；结果比对及奖惩：如果正确加一分，同时showTime减少100ms，来减少下一局玩家的记忆时间，增加游戏的难度。如果showTime<=0时，进入下一关（后面关卡的还没有写），将起始分数重置为2分；如果错误则扣一分，如果分数<=0，则gameover，并且将起始分数重置为2分。

>   程序要点：（这是给程序员看的）
1.  页面左右结构，左边是观察区，搁置9张牌lis；右边一个显示当前的关数gate，目前只支持一关；一个记录玩家的总分数score，过程中动态变化；一个是游戏开始的按钮beginGame；右下是随机生成的一张比对牌findMe；
2.  获取元素就不用说啦；
3.  zindex一开始是用来设置层级，这样发牌的效果就是每次最上面一张发出去；（又是面子工程T_T）
4.  onOff是控制玩家翻牌的开关，这样玩家在洗牌发牌动画结束后才能翻牌；next是控制下一局的开关，玩家翻牌完成后，程序要进行比对，加减分，显示正确的牌的位置等一系列动画完成后，玩家才能开始下一局游戏；
5.  收牌是将所有的牌集中起来，纯粹的动画效果；
6.  洗牌，我是将元素顺序打乱，（其实也可以将位置信息打乱，但是由于我这里的将牌一张一张发出去的，如果选择将元素的顺序打乱，每次都是有第一张到第九张的顺序，虽然它们出现的位置是随机的，但是出去的顺序都是固定的，觉得这样不好。不到我用这么多话描述清楚了没T_T）；
7.  发牌， 是将乱序元素按照数组中对应的位置显示；
8.  比对结果以及奖惩什么的我都封装了函数，分数那里也做了小动画，注释也很详细，就不赘述了，直接看源码；
9.	感觉这个翻牌游戏呢，主要就是排个序，做个css3动画，没有2048有含量，消消乐就更厉害了；

>   程序的问题程序的问题：
1.  程序中整个流程的控制，要使用回调函数，可是回调多了，看着缩进就头疼，这就是回调地狱吧，我使用定时器setTimeout投机取巧了一把，这是我目前能想到的唯一解决办法。
2.  程序中的坐标是我手动生成的数组aPos0和aPos，还是两个，T_T。第一个是用来初始化的，这样纸牌就是按照1-9依次排列的，动画的顺序是从顶部依次的下来；第二个是后期洗牌的时候，从中间散开，这样最后一张牌刚好在最中间（竟是些面子工作）；主要是没想通要怎么把第一个数组整容一下，变成第二个的样子。（aPos0只有初始化的时候使用，使用完后把中间的那个位置splice出来，push到末尾，好像比我直接写一个要麻烦耶*_^）；
3.	发现一个现象，每次收牌的时候，是按照数字从大到下的顺序收集的，除了造成一种打完一句扑克胡乱收牌的假象外，好像没有什么其他的影响。就是有点不爽，就希望它按照位置的顺序收牌；（暂时不管了，我要先去做个日历了，据说要模拟用js后台来存数据？）

>   最后附上一张程序的逻辑图（第一次使用processon画流程图，几度都想直接用PS来画了，最后还是坚持下来了，就为了专业T_T），。。。。，我以为可以放图片在这里面，0_0，好吧，天下相亲与相爱，图片自成一脉！！！



